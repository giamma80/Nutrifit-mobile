############################################################
# Nutrifit Backend – Template .env.example
# Copia questo file in .env (o .env.local) e compila i valori reali.
# Non inserire chiavi reali in questo template.
############################################################

###############################
# 1. AI Meal Photo Adapter
###############################
AI_MEAL_PHOTO_MODE=gpt4v               # gpt4v | model | heuristic | stub
AI_GPT4V_REAL_ENABLED=0                # 1=chiamate reali, 0=mock deterministico
OPENAI_VISION_MODEL=gpt-4o-mini        # modello vision
OPENAI_API_KEY=__REPLACE_ME__          # obbligatoria se REAL_ENABLED=1

###############################
# 2. Normalization Pipeline
###############################
AI_NORMALIZATION_MODE=enforce          # off | dry_run | enforce
AI_PHOTO_URL_ALLOWED_HOSTS=firebasestorage.googleapis.com,images.example.com

###############################
# 3. Future Nutrient Sources (placeholder)
###############################
AI_USDA_ENABLED=0
AI_USDA_SNAPSHOT=0
AI_USDA_COOKING=0
AI_USDA_MICROS=0

###############################
# 4. Remote / Heuristic fallback (legacy)
###############################
# AI_REMOTE_ENABLED=0
# AI_HEURISTIC_ENABLED=0
REMOTE_TIMEOUT_MS=1200
REMOTE_LATENCY_MS=900
REMOTE_JITTER_MS=300
REMOTE_FAIL_RATE=0.0

###############################
# 5. Metrics / Observability
###############################
AI_METRICS_PARSE=1
AI_METRICS_NORMALIZATION=1

###############################
# 6. Rate Limiting / Quota (placeholder)
###############################
AI_GPT_DAILY_QUOTA=0
AI_GPT_RATE_LIMIT_PER_MIN=0

###############################
# 7. Logging
###############################
AI_MEAL_PHOTO_DEBUG=0                  # 1=log diagnostici normalization
LOG_LEVEL=INFO                         # DEBUG | INFO | WARNING | ERROR

###############################
# NOTE
# - Imposta AI_GPT4V_REAL_ENABLED=1 solo in ambienti sicuri con chiave valida.
# - Lascia AI_USDA_* =0 finché l'integrazione non è implementata.
# - Usa LOG_LEVEL=DEBUG in sviluppo per vedere adapter.selected e env.snapshot.
###############################
